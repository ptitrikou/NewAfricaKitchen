"use strict";var DSHUtils={blockUi:function(t,e,a,i){$(t).block({message:'<div class="spinner-border text-primary spinner-border-sm mr-2" role="status"></div><h5>'+e+"</h5>",css:{border:"0"}}),setTimeout(function(){$(t).unblock(),"function"==typeof i&&i()&&i()},a)},selectOptions:function(t,e){t.closest(".form-group").find("option").each(function(){""!=$(this).attr("value")&&$(this).prop("selected",e).trigger("change")})},previewImageUpload:function(e){var t=e.files&&e.files[0];if(t){var a=new FileReader;a.onload=function(t){$(e).closest(".dsh-btn-file-upload-wrapper").find(".dsh-img-preview").attr("src",t.target.result)},a.readAsDataURL(t)}},removeAllActiveItems:function(t,e){e=this.isEmpty(e)?"active":e,t.find("."+e).removeClass(e)},isEmpty:function(t){return""===t||null==t},isMobile:function(){return window&&window.matchMedia("(max-width: 1024px)").matches},formatTooltip:function(t){var e=t.data("state")?"tooltip-"+t.data("state"):"",a="auto"==t.data("width")?"tooltop-auto-width":"",i=t.data("trigger")?t.data("trigger"):"hover",s=t.data("placement")?t.data("placement"):"top";t.tooltip({trigger:i,placement:s,template:'<div class="tooltip '+e+" "+a+'" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'})},formatPopover:function(t){var e=t.data("state")?"popover-"+t.data("state"):"",a=t.data("trigger")?t.data("trigger"):"hover";t.popover({trigger:a,template:'<div class="popover '+e+'" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'})},formSerializeArrayToJson:function(t){var a={};return jQuery.map(t,function(t,e){a[t.name]=t.value}),a},getSignNumber:function(t){return t&&t/Math.abs(t)},kFormatter:function(t){return 999<Math.abs(t)?this.getSignNumber(t)*(Math.abs(t)/1e3).toFixed(1)+"k":this.getSignNumber(t)*Math.abs(t)},randomScalingFactor:function(t){return t=this.isEmpty(t)?100:t,Math.round(Math.random()*t)}};$(document).ready(function(){var e,t=$(".dsh-minimal-aside-wrapper .side-nav .menu-item"),a=$(".dsh-aside-overlay.dsh-overlay-left"),i=($(".dsh-minimal-aside-wrapper .dsh-minimal-aside--outter"),$(".dsh-minimal-aside-wrapper .dsh-minimal-aside--inner")),s=$(".dsh-aside-toggler");function o(){$("body").removeClass("dsh-aside-left-open")}function n(){i.removeClass("open")}function r(){DSHUtils.removeAllActiveItems($(".dsh-main-aside"),"active"),$(".minimal-aside-section").removeClass("active")}function d(t){var e;r(),t.find("a").addClass("active"),e=t.data("target"),i.addClass("open"),$(e).addClass("active")}t.on("click",function(){d($(this))}),t.find("a").on("click",function(t){var e=$(this).parent().data("target");DSHUtils.isEmpty(e)||t.preventDefault()}),a.on("click",function(){if($("body").hasClass("dsh-minimal-sidebar"))return r(),n(),!1;o()}),s.on("click",function(){var t=$("body").hasClass("dsh-aside-left-open"),e=i.hasClass("open")&&0<i.length;e?(n(),r()):t?o():t&&e?(o(),n()):t||e||(r(),$("body").addClass("dsh-aside-left-open"))}),t.each(function(t){var e=$(this);if(e.find("a").hasClass("active")){var a=e.data("target");i.find(a).addClass("active")}}),DSHUtils.isMobile()&&(o(),n()),e=location.pathname.split("/").slice(-1)[0].replace(/^\/|\/$/g,""),$(".dsh-main-aside .menu-item a").each(function(){var t=$(this);""===e||"index.html"===e?-1!==t.attr("href").indexOf("index.html")&&($(this).addClass("active"),$(this).parents(".collapse").prev().addClass("active"),$(this).parents(".collapse").length&&$(this).closest(".collapse").addClass("show")):-1!==t.attr("href").indexOf(e)&&($(this).addClass("active"),$(this).parents(".collapse").prev().addClass("active"),$(this).parents(".collapse").length&&$(this).closest(".menu-item").find(".active").next().addClass("show"))}),$(window).on("resize",function(t){DSHUtils.isMobile()&&(o(),n())})}),function(a){var t;a(window).on("load",function(){a(".dsh-preloader").addClass("hidden")}),a(".dsh-navbar ul.dropdown-menu [data-toggle='dropdown']").on("click",function(t){return t.preventDefault(),t.stopPropagation(),a(this).next().hasClass("show")||a(this).parents(".dropdown-menu").first().find(".show").removeClass("show"),a(this).next(".dropdown-menu").toggleClass("show"),a(this).parents("li.dropdown.show").on("hidden.bs.dropdown",function(t){a(".dropdown .show").removeClass("show")}),!1}),a("body").on("click",".dsh-toggler",function(){var t=a(this).data("target");switch(a(this).data("toggle")){case"collapse":a(this).find("i").toggleClass("lni-chevron-down"),a(this).closest(".card").find(".card-body").slideToggle();break;case"block":DSHUtils.blockUi(t,"Processing...",2e3);break;default:return}}),a(".dsh-custom-scroll").each(function(t){a(this).slimScroll({height:"auto",position:"right",size:"5px",color:"#dcdcdc",opacity:1,wheelStep:5,touchScrollStep:50})}),a('[data-toggle="tooltip"], .dsh-tooltip').each(function(){DSHUtils.formatTooltip(a(this))}),a('[data-toggle="popover"], .dsh-popover').each(function(){DSHUtils.formatPopover(a(this))}),a(".dsh-select2").select2(),a(".dsh-datepicker").datepicker({clearBtn:!0}),a(".dsh-timepicker").timepicker({icons:{up:"lni-chevron-up",down:"lni-chevron-down"}}),a(".dsh-daterangepicker").daterangepicker(),a(".dsh-daterangepicker-time").daterangepicker({timePicker:!0,startDate:moment().startOf("hour"),endDate:moment().startOf("hour").add(32,"hour"),locale:{format:"M/DD hh:mm A"}}),a(".dsh-daterangepicker-predefined").daterangepicker({startDate:moment().subtract(29,"days"),endDate:moment(),ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}}),a(".dsh-can-rate i").on("click",function(){a(this).prevAll().removeClass("active"),a(this).addClass("active"),a(this).nextAll().addClass("active")}),a(".dsh-clipboard").on("click",function(){var t=a(this),e=t.parent().prev("input");return DSHUtils.isEmpty(e.val())?alert("Nothing to copy"):(e.select(),t.hasClass("cut")?(document.execCommand("cut"),alert("Cut to clipboard"),!0):(document.execCommand("copy"),void alert("Copied to clipboard")))}),a(".dsh-active-parent").on("click",".dsh-can-active",function(){var t=a(this).closest(".dsh-active-parent");DSHUtils.removeAllActiveItems(t),a(this).addClass("active")}),a("body").on("click",".dsh-toggle-active",function(){a(this).toggleClass("active")}),a("body").on("click",".dsh-btn-file-upload",function(){a(this).closest(".dsh-btn-file-upload-wrapper").find(".dsh-upload-input").click()}).on("change",".dsh-upload-input",function(){DSHUtils.previewImageUpload(this)}),a(".dsh-select-all").on("click",function(){DSHUtils.selectOptions(a(this),!0)}),a(".dsh-deselect-all").on("click",function(){DSHUtils.selectOptions(a(this),!1)}),a("body").on("click",".delete-trigger",function(){var t=a(this).closest(".deletable");DSHUtils.blockUi(t,"Processing...",2e3,function(){a(t).fadeOut()})}),t=document.getElementsByClassName("needs-validation"),Array.prototype.filter.call(t,function(e){e.addEventListener("submit",function(t){!1===e.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")},!1)})}(jQuery);